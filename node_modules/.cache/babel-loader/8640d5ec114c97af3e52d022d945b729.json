{"remainingRequest":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/babel-loader/lib/index.js!/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/src/views/account/AccountSubscriptions.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/src/views/account/AccountSubscriptions.vue","mtime":1641638309456},{"path":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/babel.config.js","mtime":1637316304951},{"path":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9mbG9yaWFua2xlY2thL0RvY3VtZW50cy9TQUUgLSBXRUIgREVTSUdOL0RJUExPTVBST0pFS1QvUGF0aHNlZWtlcnMgVG9tZS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9mbG9yaWFua2xlY2thL0RvY3VtZW50cy9TQUUgLSBXRUIgREVTSUdOL0RJUExPTVBST0pFS1QvUGF0aHNlZWtlcnMgVG9tZS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0IEFib0NhcmQgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9BYm9DYXJkLnZ1ZSI7CmltcG9ydCBDb25maXJtTW9kYWwgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9Db25maXJtTW9kYWwudnVlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gInZ1ZS10b2FzdGlmaWNhdGlvbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBBYm9DYXJkOiBBYm9DYXJkLAogICAgQ29uZmlybU1vZGFsOiBDb25maXJtTW9kYWwKICB9LAogIG5hbWU6ICJBY2NvdW50U3Vic2NyaXB0aW9ucyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbmZpcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRBYm86IHsKICAgICAgICBhYm86ICIiCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKHsKICAgIGNoYW5nZUFibzogZnVuY3Rpb24gY2hhbmdlQWJvKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgdG9hc3Q7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLnN0YXRlLmlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICB0b2FzdCA9IHVzZVRvYXN0KCk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wdXQoIi9hcGkvYWNjb3VudC9hYm8vIiArIF90aGlzLnVzZXIuaWQsIF90aGlzLnNlbGVjdGVkQWJvKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcnMpIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9PYmplY3Qka2V5cyA9IE9iamVjdC5rZXlzKHJlc3BvbnNlLmRhdGEuZXJyb3JzKTsgX2kgPCBfT2JqZWN0JGtleXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSBfT2JqZWN0JGtleXNbX2ldOwogICAgICAgICAgICAgICAgICAgICAgdG9hc3QuZXJyb3IocmVzcG9uc2UuZGF0YS5lcnJvcnNbZXJyb3JdWzBdKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgdG9hc3Quc3VjY2VzcyhyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi9hY2NvdW50L292ZXJ2aWV3Iik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5zdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwgbWFwQWN0aW9ucyh7CiAgICBnZXRVc2VyOiAiYXV0aC9nZXRVc2VyIgogIH0pKSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyh7CiAgICB1c2VyOiAiYXV0aC91c2VyIgogIH0pKQp9Ow=="},{"version":3,"sources":["/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/src/views/account/AccountSubscriptions.vue"],"names":[],"mappings":";;;;;AAyEA,OAAO,OAAP,MAAoB,8BAApB;AACA,OAAO,YAAP,MAAyB,mCAAzB;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,UAAT,EAAqB,UAArB,QAAuC,MAAvC;AACA,SAAS,QAAT,QAAyB,oBAAzB;AAEA,eAAe;AACb,EAAA,UAAU,EAAE;AAAE,IAAA,OAAO,EAAP,OAAF;AAAW,IAAA,YAAW,EAAX;AAAX,GADC;AAEb,EAAA,IAAI,EAAE,sBAFO;AAGb,EAAA,IAAI,EAAE,gBAAM;AACV,WAAO;AACL,MAAA,cAAc,EAAE,KADX;AAEL,MAAA,WAAW,EAAE;AACX,QAAA,GAAG,EAAE;AADM;AAFR,KAAP;AAMD,GAVY;AAWb,EAAA,OAAO;AACC,IAAA,SADD,uBACa;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAChB,gBAAA,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,SAAlB,GAA8B,IAA9B;AACM,gBAAA,KAFU,GAEF,QAAQ,EAFN;AAAA;AAAA,uBAGV,KAAI,CACP,GADG,CACC,sBAAsB,KAAI,CAAC,IAAL,CAAU,EADjC,EACqC,KAAI,CAAC,WAD1C,EAEH,IAFG,CAEE,UAAC,QAAD,EAAc;AAClB,sBAAI,QAAQ,CAAC,IAAT,CAAc,MAAlB,EAA0B;AACxB,oDAAkB,MAAM,CAAC,IAAP,CAAY,QAAQ,CAAC,IAAT,CAAc,MAA1B,CAAlB,kCAAqD;AAAhD,0BAAI,KAAI,mBAAR;AACH,sBAAA,KAAK,CAAC,KAAN,CAAY,QAAQ,CAAC,IAAT,CAAc,MAAd,CAAqB,KAArB,EAA4B,CAA5B,CAAZ;AACF;AACF,mBAJA,MAIO,IAAI,QAAQ,CAAC,IAAT,CAAc,OAAlB,EAA2B;AAChC,oBAAA,KAAK,CAAC,OAAN,CAAc,QAAQ,CAAC,IAAT,CAAc,OAA5B;;AACA,oBAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,mBAAlB;AACF;AACD,iBAXG,EAYH,KAZG,CAYG,UAAC,CAAD,EAAO;AACZ,kBAAA,OAAO,CAAC,GAAR,CAAY,CAAZ;AACD,iBAdG,EAeH,OAfG,CAeK,YAAM;AACb,kBAAA,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,SAAlB,GAA8B,KAA9B;AACD,iBAjBG,CAHU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBjB;AAtBI,KAuBF,UAAU,CAAC;AACZ,IAAA,OAAO,EAAE;AADG,GAAD,CAvBR,CAXM;AAsCb,EAAA,QAAQ,oBACH,UAAU,CAAC;AACZ,IAAA,IAAI,EAAE;AADM,GAAD,CADP;AAtCK,CAAf","sourcesContent":["<template>\n  <div\n    class=\"\n      w-full\n      h-app\n      bg-bg\n      pt-6\n      md:pt-12\n      pb-36\n      md:pb-16 md:px-12\n      overflow-y-scroll\n    \"\n  >\n    <div class=\"w-full xl:w-758 px-2 md:px-0\">\n      <confirm-modal\n        v-if=\"confirmVisible\"\n        class=\"absolute left-0 top-0 z-50\"\n        @confirm=\"\n          changeAbo(this.selectedAbo);\n          confirmVisible = false;\n        \"\n        @close=\"confirmVisible = false\"\n      >\n        <template v-slot:text>Willst du das Abonnement wechseln?</template>\n        <template v-slot:confirm>Abonnoment wechseln</template>\n      </confirm-modal>\n      <h3 class=\"text-white text-xl my-6 font-semibold\">Dein Abonnement</h3>\n      <abo-card\n        v-if=\"this.user.abo === 'free'\"\n        title=\"Free\"\n        text=\"Nutze Pathseeker's Tome gratis mit beschränkter Anzahl an Charakter-Slots\"\n      />\n      <abo-card\n        v-if=\"this.user.abo === 'premium'\"\n        class=\"my-6\"\n        title=\"Premium\"\n        text=\"Nutze Pathseeker’s Tome mit unbegrenzter\n      Anzahl an Charakter-Slots.\"\n        price=\"3,99€ / Monat\"\n      />\n\n      <h3 class=\"text-white text-xl font-semibold mt-12\">\n        Verfügbare Abonnements\n      </h3>\n      <abo-card\n        class=\"my-6\"\n        v-if=\"this.user.abo !== 'free'\"\n        title=\"Free\"\n        text=\"Nutze Pathseeker's Tome gratis mit beschränkter Anzahl an Charakter-Slots\"\n        :button=\"true\"\n        @confirm=\"\n          confirmVisible = true;\n          selectedAbo.abo = 'free';\n        \"\n      />\n      <abo-card\n        class=\"my-6\"\n        title=\"Premium\"\n        v-if=\"this.user.abo !== 'premium'\"\n        text=\"Nutze Pathseeker’s Tome mit unbegrenzter\n      Anzahl an Charakter-Slots.\"\n        price=\"3,99€ / Monat\"\n        :button=\"true\"\n        @confirm=\"\n          confirmVisible = true;\n          selectedAbo.abo = 'premium';\n        \"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport AboCard from \"../../components/AboCard.vue\";\nimport ConfirmModal from \"../../components/ConfirmModal.vue\";\nimport axios from \"axios\";\nimport { mapGetters, mapActions } from \"vuex\";\nimport { useToast } from \"vue-toastification\";\n\nexport default {\n  components: { AboCard, ConfirmModal },\n  name: \"AccountSubscriptions\",\n  data: () => {\n    return {\n      confirmVisible: false,\n      selectedAbo: {\n        abo: \"\",\n      },\n    };\n  },\n  methods: {\n    async changeAbo() {\n      this.$store.state.isLoading = true;\n      const toast = useToast();\n      await axios\n        .put(\"/api/account/abo/\" + this.user.id, this.selectedAbo)\n        .then((response) => {\n          if (response.data.errors) {\n            for (let error of Object.keys(response.data.errors)) {\n              toast.error(response.data.errors[error][0]);\n            }\n          } else if (response.data.success) {\n            toast.success(response.data.success);\n            this.$router.push(\"/account/overview\");\n          }\n        })\n        .catch((e) => {\n          console.log(e);\n        })\n        .finally(() => {\n          this.$store.state.isLoading = false;\n        });\n    },\n    ...mapActions({\n      getUser: \"auth/getUser\",\n    }),\n  },\n  computed: {\n    ...mapGetters({\n      user: \"auth/user\",\n    }),\n  },\n};\n</script>\n\n<style></style>\n"],"sourceRoot":""}]}