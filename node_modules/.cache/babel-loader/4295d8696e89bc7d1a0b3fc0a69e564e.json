{"remainingRequest":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/babel-loader/lib/index.js!/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/eslint-loader/index.js??ref--14-0!/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/src/services/AuthService.js","dependencies":[{"path":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/src/services/AuthService.js","mtime":1641382812014},{"path":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/babel.config.js","mtime":1637316304951},{"path":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9mbG9yaWFua2xlY2thL0RvY3VtZW50cy9TQUUgLSBXRUIgREVTSUdOL0RJUExPTVBST0pFS1QvUGF0aHNlZWtlcnMgVG9tZS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL2Zsb3JpYW5rbGVja2EvRG9jdW1lbnRzL1NBRSAtIFdFQiBERVNJR04vRElQTE9NUFJPSkVLVC9QYXRoc2Vla2VycyBUb21lL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL2Zsb3JpYW5rbGVja2EvRG9jdW1lbnRzL1NBRSAtIFdFQiBERVNJR04vRElQTE9NUFJPSkVLVC9QYXRoc2Vla2VycyBUb21lL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2Zsb3JpYW5rbGVja2EvRG9jdW1lbnRzL1NBRSAtIFdFQiBERVNJR04vRElQTE9NUFJPSkVLVC9QYXRoc2Vla2VycyBUb21lL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IENvb2tpZXMgZnJvbSAianMtY29va2llIjsKaW1wb3J0IGF4aW9zLCB7IEF4aW9zRXJyb3IgfSBmcm9tICJheGlvcyI7CnZhciBhdXRoQ29va2llS2V5ID0gImF1dGhvcml6YXRpb24tdG9rZW4iOwoKdmFyIEF1dGhTZXJ2aWNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBBdXRoU2VydmljZSgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdXRoU2VydmljZSk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQXV0aFNlcnZpY2UsIG51bGwsIFt7CiAgICBrZXk6ICJsb2dpbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2xvZ2luID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBhcGlFbmRwb2ludDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBhcGlFbmRwb2ludCA9ICIiLmNvbmNhdChhcGlVcmwsICIvbG9naW4iKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGF4aW9zLnBvc3QoYXBpRW5kcG9pbnQsIHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgICAgICAgICB2YXIgX3Jlc3AkZGF0YSR0b2tlbiwgX3Jlc3AkZGF0YTsKCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3ApOwogICAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSAoX3Jlc3AkZGF0YSR0b2tlbiA9IHJlc3AgPT09IG51bGwgfHwgcmVzcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9yZXNwJGRhdGEgPSByZXNwLmRhdGEpID09PSBudWxsIHx8IF9yZXNwJGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXNwJGRhdGEudG9rZW4pICE9PSBudWxsICYmIF9yZXNwJGRhdGEkdG9rZW4gIT09IHZvaWQgMCA/IF9yZXNwJGRhdGEkdG9rZW4gOiBudWxsOwogICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgICAgICAgICAgICAgICB0aHJvdyBlOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgICAgcmV0dXJuIF9sb2dpbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gbG9naW47CiAgICB9KCkKICB9XSk7CgogIHJldHVybiBBdXRoU2VydmljZTsKfSgpOwoKX2RlZmluZVByb3BlcnR5KEF1dGhTZXJ2aWNlLCAiaXNMb2dnZWRJbiIsIGZ1bmN0aW9uICgpIHsKICByZXR1cm4gISFDb29raWVzLmdldChhdXRoQ29va2llS2V5KTsKfSk7CgpfZGVmaW5lUHJvcGVydHkoQXV0aFNlcnZpY2UsICJsb2dvdXQiLCBmdW5jdGlvbiAoKSB7CiAgQ29va2llcy5yZW1vdmUoYXV0aENvb2tpZUtleSk7Cn0pOwoKX2RlZmluZVByb3BlcnR5KEF1dGhTZXJ2aWNlLCAiZ2V0VG9rZW4iLCBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIENvb2tpZXMuZ2V0KGF1dGhDb29raWVLZXkpOwp9KTsKCl9kZWZpbmVQcm9wZXJ0eShBdXRoU2VydmljZSwgInNldENvb2tpZSIsIGZ1bmN0aW9uICh0b2tlbikgewogIHJldHVybiBDb29raWVzLnNldChhdXRoQ29va2llS2V5LCB0b2tlbik7Cn0pOwoKZXhwb3J0IHsgQXV0aFNlcnZpY2UgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/src/services/AuthService.js"],"names":["Cookies","axios","AxiosError","authCookieKey","AuthService","apiEndpoint","apiUrl","post","params","then","resp","console","log","token","data","catch","e","error","get","remove","set"],"mappings":";;;;;AAAA,OAAOA,OAAP,MAAoB,WAApB;AACA,OAAOC,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AAEA,IAAMC,aAAa,GAAG,qBAAtB;;IAEqBC,W;;;;;;;;2EAenB;AAAA;AAAA;AAAA;AAAA;AAAA;AACQC,gBAAAA,WADR,aACyBC,MADzB;AAAA,iDAESL,KAAK,CACTM,IADI,CACCF,WADD,EACcG,MADd,EAEJC,IAFI,CAEC,UAACC,IAAD,EAAU;AAAA;;AACdC,kBAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,sBAAMG,KAAK,uBAAGH,IAAH,aAAGA,IAAH,qCAAGA,IAAI,CAAEI,IAAT,+CAAG,WAAYD,KAAf,+DAAwB,IAAnC;AACA,yBAAOA,KAAP;AACD,iBANI,EAOJE,KAPI,CAOE,UAACC,CAAD,EAAO;AACZL,kBAAAA,OAAO,CAACM,KAAR,CAAcD,CAAd;AACA,wBAAMA,CAAN;AACD,iBAVI,CAFT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;;;gBAfmBZ,W,gBACC;AAAA,SAAM,CAAC,CAACJ,OAAO,CAACkB,GAAR,CAAYf,aAAZ,CAAR;AAAA,C;;gBADDC,W,YAGH,YAAM;AACpBJ,EAAAA,OAAO,CAACmB,MAAR,CAAehB,aAAf;AACD,C;;gBALkBC,W,cAOD,YAAM;AACtB,SAAOJ,OAAO,CAACkB,GAAR,CAAYf,aAAZ,CAAP;AACD,C;;gBATkBC,W,eAWA,UAACS,KAAD,EAAW;AAC5B,SAAOb,OAAO,CAACoB,GAAR,CAAYjB,aAAZ,EAA2BU,KAA3B,CAAP;AACD,C;;SAbkBT,W","sourcesContent":["import Cookies from \"js-cookie\";\nimport axios, { AxiosError } from \"axios\";\n\nconst authCookieKey = \"authorization-token\";\n\nexport default class AuthService {\n  static isLoggedIn = () => !!Cookies.get(authCookieKey);\n\n  static logout = () => {\n    Cookies.remove(authCookieKey);\n  };\n\n  static getToken = () => {\n    return Cookies.get(authCookieKey);\n  };\n\n  static setCookie = (token) => {\n    return Cookies.set(authCookieKey, token);\n  };\n\n  static async login() {\n    const apiEndpoint = `${apiUrl}/login`;\n    return axios\n      .post(apiEndpoint, params)\n      .then((resp) => {\n        console.log(resp);\n        const token = resp?.data?.token ?? null;\n        return token;\n      })\n      .catch((e) => {\n        console.error(e);\n        throw e;\n      });\n  }\n}\n"]}]}