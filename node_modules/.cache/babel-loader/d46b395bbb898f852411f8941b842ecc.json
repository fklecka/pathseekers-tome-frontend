{"remainingRequest":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/babel-loader/lib/index.js!/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/eslint-loader/index.js??ref--14-0!/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/src/store/auth.js","dependencies":[{"path":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/src/store/auth.js","mtime":1641831067508},{"path":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/babel.config.js","mtime":1637316304951},{"path":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9mbG9yaWFua2xlY2thL0RvY3VtZW50cy9TQUUgLSBXRUIgREVTSUdOL0RJUExPTVBST0pFS1QvUGF0aHNlZWtlcnMgVG9tZS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHsKICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlLAogICAgdXNlcjogbnVsbCwKICAgIGVycm9yczogW10KICB9LAogIGdldHRlcnM6IHsKICAgIGF1dGhlbnRpY2F0ZWQ6IGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmF1dGhlbnRpY2F0ZWQ7CiAgICB9LAogICAgdXNlcjogZnVuY3Rpb24gdXNlcihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlcjsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgU0VUX0FVVEhFTlRJQ0FURUQ6IGZ1bmN0aW9uIFNFVF9BVVRIRU5USUNBVEVEKHN0YXRlLCB2YWx1ZSkgewogICAgICBzdGF0ZS5hdXRoZW50aWNhdGVkID0gdmFsdWU7CiAgICB9LAogICAgU0VUX1VTRVI6IGZ1bmN0aW9uIFNFVF9VU0VSKHN0YXRlLCB2YWx1ZSkgewogICAgICBzdGF0ZS51c2VyID0gdmFsdWU7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgY3JlZGVudGlhbHMpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZGlzcGF0Y2g7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIvc2FuY3R1bS9jc3JmLWNvb2tpZSIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIvbG9naW4iLCBjcmVkZW50aWFscykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgiZ2V0VXNlciIpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gX3JlZjIucmVzcG9uc2U7CiAgICAgICAgICAgICAgICAgIHRocm93IGRhdGE7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KF9yZWYzKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBkaXNwYXRjaDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMy5kaXNwYXRjaDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIvbG9nb3V0Iik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGRpc3BhdGNoKCJjbGVhckNoYXJhY3RlckRhdGEiLCBudWxsLCB7CiAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGRpc3BhdGNoKCJnZXRVc2VyIikpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoX3JlZjQsIGNyZWRlbnRpYWxzKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBkaXNwYXRjaDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmNC5kaXNwYXRjaDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIvcmVnaXN0ZXIiLCBjcmVkZW50aWFscykudGhlbihmdW5jdGlvbiAoX3JlZjUpIHsKICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBfcmVmNS5kYXRhOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goImdldFVzZXIiKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChfcmVmNikgewogICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IF9yZWY2LnJlc3BvbnNlOwogICAgICAgICAgICAgICAgICB0aHJvdyBkYXRhOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldFVzZXI6IGZ1bmN0aW9uIGdldFVzZXIoX3JlZjcpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIGNvbW1pdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjcuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiL2FwaS91c2VyIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgY29tbWl0KCJTRVRfQVVUSEVOVElDQVRFRCIsIHRydWUpOwogICAgICAgICAgICAgICAgICBjb21taXQoIlNFVF9VU0VSIiwgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIGNvbW1pdCgiU0VUX0FVVEhFTlRJQ0FURUQiLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgIGNvbW1pdCgiU0VUX1VTRVIiLCBudWxsKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ0LnNlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/src/store/auth.js"],"names":["axios","namespaced","state","authenticated","user","errors","getters","mutations","SET_AUTHENTICATED","value","SET_USER","actions","login","credentials","dispatch","get","post","then","catch","data","response","logout","root","register","console","log","message","getUser","commit"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\nexport default {\n  namespaced: true,\n\n  state: {\n    authenticated: false,\n    user: null,\n    errors: [],\n  },\n\n  getters: {\n    authenticated(state) {\n      return state.authenticated;\n    },\n\n    user(state) {\n      return state.user;\n    },\n  },\n\n  mutations: {\n    SET_AUTHENTICATED(state, value) {\n      state.authenticated = value;\n    },\n\n    SET_USER(state, value) {\n      state.user = value;\n    },\n  },\n\n  actions: {\n    async login({ dispatch }, credentials) {\n      await axios.get(\"/sanctum/csrf-cookie\");\n      await axios\n        .post(\"/login\", credentials)\n        .then(() => {\n          return dispatch(\"getUser\");\n        })\n        .catch(({ response: data }) => {\n          throw data;\n        });\n    },\n\n    async logout({ dispatch }) {\n      await axios.post(\"/logout\");\n      dispatch(\"clearCharacterData\", null, { root: true });\n      return dispatch(\"getUser\");\n    },\n\n    async register({ dispatch }, credentials) {\n      await axios\n        .post(\"/register\", credentials)\n        .then(({ data }) => {\n          console.log(data.message);\n          return dispatch(\"getUser\");\n        })\n        .catch(({ response: data }) => {\n          throw data;\n        });\n    },\n\n    async getUser({ commit }) {\n      return await axios\n        .get(\"/api/user\")\n        .then((response) => {\n          commit(\"SET_AUTHENTICATED\", true);\n          commit(\"SET_USER\", response.data);\n        })\n        .catch(() => {\n          commit(\"SET_AUTHENTICATED\", false);\n          commit(\"SET_USER\", null);\n        });\n    },\n  },\n};\n"]}]}