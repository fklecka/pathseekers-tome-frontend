{"remainingRequest":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/babel-loader/lib/index.js!/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/eslint-loader/index.js??ref--14-0!/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/src/store/auth.js","dependencies":[{"path":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/src/store/auth.js","mtime":1638366977272},{"path":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/babel.config.js","mtime":1637316304951},{"path":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9mbG9yaWFua2xlY2thL0RvY3VtZW50cy9TQUUgLSBXRUIgREVTSUdOL0RJUExPTVBST0pFS1QvUGF0aHNlZWtlcnMgVG9tZS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHsKICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlLAogICAgdXNlcjogbnVsbAogIH0sCiAgZ2V0dGVyczogewogICAgYXV0aGVudGljYXRlZDogZnVuY3Rpb24gYXV0aGVudGljYXRlZChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuYXV0aGVudGljYXRlZDsKICAgIH0sCiAgICB1c2VyOiBmdW5jdGlvbiB1c2VyKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VyOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBTRVRfQVVUSEVOVElDQVRFRDogZnVuY3Rpb24gU0VUX0FVVEhFTlRJQ0FURUQoc3RhdGUsIHZhbHVlKSB7CiAgICAgIHN0YXRlLmF1dGhlbnRpY2F0ZWQgPSB2YWx1ZTsKICAgIH0sCiAgICBTRVRfVVNFUjogZnVuY3Rpb24gU0VUX1VTRVIoc3RhdGUsIHZhbHVlKSB7CiAgICAgIHN0YXRlLnVzZXIgPSB2YWx1ZTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCBjcmVkZW50aWFscykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBkaXNwYXRjaDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoIi9zYW5jdHVtL2NzcmYtY29va2llIik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoIi9hcGkvbG9naW4iLCBjcmVkZW50aWFscyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGRpc3BhdGNoKCJtZSIpKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KF9yZWYyKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBkaXNwYXRjaDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMi5kaXNwYXRjaDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIvbG9nb3V0Iik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBkaXNwYXRjaCgibWUiKSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG1lOiBmdW5jdGlvbiBtZShfcmVmMykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICByZXR1cm4gYXhpb3MuZ2V0KCIvYXBpL3VzZXIiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbW1pdCgiU0VUX0FVVEhFTlRJQ0FURUQiLCB0cnVlKTsKICAgICAgICBjb21taXQoIlNFVF9VU0VSIiwgcmVzcG9uc2UuZGF0YSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBjb21taXQoIlNFVF9BVVRIRU5USUNBVEVEIiwgZmFsc2UpOwogICAgICAgIGNvbW1pdCgiU0VUX1VTRVIiLCBudWxsKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/florianklecka/Documents/SAE - WEB DESIGN/DIPLOMPROJEKT/Pathseekers Tome/frontend/src/store/auth.js"],"names":["axios","namespaced","state","authenticated","user","getters","mutations","SET_AUTHENTICATED","value","SET_USER","actions","login","credentials","dispatch","get","post","logout","me","commit","then","response","data","catch"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACbC,EAAAA,UAAU,EAAE,IADC;AAGbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,aAAa,EAAE,KADV;AAELC,IAAAA,IAAI,EAAE;AAFD,GAHM;AAQbC,EAAAA,OAAO,EAAE;AACPF,IAAAA,aADO,yBACOD,KADP,EACc;AACnB,aAAOA,KAAK,CAACC,aAAb;AACD,KAHM;AAKPC,IAAAA,IALO,gBAKFF,KALE,EAKK;AACV,aAAOA,KAAK,CAACE,IAAb;AACD;AAPM,GARI;AAkBbE,EAAAA,SAAS,EAAE;AACTC,IAAAA,iBADS,6BACSL,KADT,EACgBM,KADhB,EACuB;AAC9BN,MAAAA,KAAK,CAACC,aAAN,GAAsBK,KAAtB;AACD,KAHQ;AAKTC,IAAAA,QALS,oBAKAP,KALA,EAKOM,KALP,EAKc;AACrBN,MAAAA,KAAK,CAACE,IAAN,GAAaI,KAAb;AACD;AAPQ,GAlBE;AA4BbE,EAAAA,OAAO,EAAE;AACDC,IAAAA,KADC,uBACmBC,WADnB,EACgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAzBC,gBAAAA,QAAyB,QAAzBA,QAAyB;AAAA;AAAA,uBAC/Bb,KAAK,CAACc,GAAN,CAAU,sBAAV,CAD+B;;AAAA;AAAA;AAAA,uBAE/Bd,KAAK,CAACe,IAAN,CAAW,YAAX,EAAyBH,WAAzB,CAF+B;;AAAA;AAAA,iDAI9BC,QAAQ,CAAC,IAAD,CAJsB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKtC,KANM;AAQDG,IAAAA,MARC,yBAQoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAZH,gBAAAA,QAAY,SAAZA,QAAY;AAAA;AAAA,uBACnBb,KAAK,CAACe,IAAN,CAAW,SAAX,CADmB;;AAAA;AAAA,kDAGlBF,QAAQ,CAAC,IAAD,CAHU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAI1B,KAZM;AAcPI,IAAAA,EAdO,qBAcQ;AAAA,UAAVC,MAAU,SAAVA,MAAU;AACb,aAAOlB,KAAK,CACTc,GADI,CACA,WADA,EAEJK,IAFI,CAEC,UAACC,QAAD,EAAc;AAClBF,QAAAA,MAAM,CAAC,mBAAD,EAAsB,IAAtB,CAAN;AACAA,QAAAA,MAAM,CAAC,UAAD,EAAaE,QAAQ,CAACC,IAAtB,CAAN;AACD,OALI,EAMJC,KANI,CAME,YAAM;AACXJ,QAAAA,MAAM,CAAC,mBAAD,EAAsB,KAAtB,CAAN;AACAA,QAAAA,MAAM,CAAC,UAAD,EAAa,IAAb,CAAN;AACD,OATI,CAAP;AAUD;AAzBM;AA5BI,CAAf","sourcesContent":["import axios from \"axios\";\n\nexport default {\n  namespaced: true,\n\n  state: {\n    authenticated: false,\n    user: null,\n  },\n\n  getters: {\n    authenticated(state) {\n      return state.authenticated;\n    },\n\n    user(state) {\n      return state.user;\n    },\n  },\n\n  mutations: {\n    SET_AUTHENTICATED(state, value) {\n      state.authenticated = value;\n    },\n\n    SET_USER(state, value) {\n      state.user = value;\n    },\n  },\n\n  actions: {\n    async login({ dispatch }, credentials) {\n      await axios.get(\"/sanctum/csrf-cookie\");\n      await axios.post(\"/api/login\", credentials);\n\n      return dispatch(\"me\");\n    },\n\n    async logout({ dispatch }) {\n      await axios.post(\"/logout\");\n\n      return dispatch(\"me\");\n    },\n\n    me({ commit }) {\n      return axios\n        .get(\"/api/user\")\n        .then((response) => {\n          commit(\"SET_AUTHENTICATED\", true);\n          commit(\"SET_USER\", response.data);\n        })\n        .catch(() => {\n          commit(\"SET_AUTHENTICATED\", false);\n          commit(\"SET_USER\", null);\n        });\n    },\n  },\n};\n"]}]}